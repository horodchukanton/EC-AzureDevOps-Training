---
# This block refers to auto help generation
options:
  noEmptyString: true
help:
  title: Electric Flow integration for TFS/VSTS
  description: |
    This plugin allows to work with REST API of Visual Studio Team Services/Team Foundation Server.
  links:
    - https://msdn.microsoft.com/en-us/library/ms181236(v=vs.90).aspx
    - https://msdn.microsoft.com/en-us/library/hh409275(v=vs.120).aspx
    - https://www.visualstudio.com/en-us/docs/work/backlogs/create-your-backlog
  hasConfig: true
procedures:
  - name: Get a List of Work Items
    stepName: get a list of work items
    description: Retrieves a list of the work items.
    # https://{instance}/DefaultCollection/_apis/wit/workitems?api-version={version}&ids={string}[&fields={string}&asOf={DateTime}&$expand={enum{relations}&ErrorPolicy={string}]
    documentationLinks:
      - https://www.visualstudio.com/en-us/docs/integrate/api/wit/work-items#get-a-list-of-work-items
    endpoint: '#{{endpoint}}/#{{collection}}/_apis/wit/workitems'
    #  #{{instance}} means that "instance" will ba taken from config
    # #{repository} will be taken from the procedure parameters
    method: GET
    # HTTP method
    hasConfig: true
     # a field for configuration name will be added to the form
    attachCredentials: true
     # credentials will be attached to the procedure
    basicAuth: true
     # credentials will be turned into basic auth header
    # if no credentials found, the procedure won't fail, the request will be made without credentials

    # The result will be saved in this property
    resultProperty:
      show: true
      # Selectbox with formats will appear
      format:
        - json
        - propertySheet
      default: /myJob/workItemsList
    parameters:
      - property: ids
        type: textarea
        label: IDs
        documentation: A comma-separated list of up to 200 IDs of the work items to get.
        required: 1
        in: query
      - property: fields
        type: textarea
        label: Fields
        required: 0
        in: query
        documentation: >
          A comma-separated list of up to 100 fields to get with each work item.
          If not specified, all fields with values are returned. Calculated fields such as Attached File Count must be specifically queried for using this parameter.
      - property: asOf
        type: entry
        label: As of (date)
        in: query
        documentation: Gets the work items as they existed at this time.
        htmlDocumentation: Gets the work items as they existed at this time.
        validators:
          - date_time
      - property: $expand
        label: Expand relationships
        type: select
        in: query
        option:
          - name: All
            value: all
          - name: Relations
            value: relations
          - name: None
            value: none
        documentation: Gets work item relationships (work item links, hyperlinks, file attachements, etc.).
        value: none
      - property: ErrorPolicy
        type: checkbox
        in: query
        label: Strict mode
        checkedValue: throw
        uncheckedValue: omit
        value: throw
        documentation: >
          Determines if the call will throw an error when encountering a work item (default behavior) that doesn't exist or simply omit it.

  - name: Create a Work Item
    stepName: create a work item
    description: Creates a new work item.
    # https://{instance}/DefaultCollection/_apis/wit/workitems?api-version={version}&ids={string}[&fields={string}&asOf={DateTime}&$expand={enum{relations}&ErrorPolicy={string}]
    endpoint: '#{{endpoint}}/#{{collection}}/#{project}/_apis/wit/workitems/#{type}'
    #  #{{instance}} means that "instance" will ba taken from config
    # #{repository} will be taken from the procedure parameters
    method: PATCH
    # HTTP method
    hasConfig: true
     # a field for configuration name will be added to the form
    attachCredentials: true
     # credentials will be attached to the procedure
    basicAuth: true
     # credentials will be turned into basic auth header
    contentType: application/json-patch+json
    documentationLinks:
      - https://www.visualstudio.com/en-us/docs/integrate/api/wit/work-items#create-a-work-item
    resultProperty:
      show: true
      # Selectbox with formats will appear
      format:
        - json
        - propertySheet
      default: /myJob/newWorkItem
    parameters:
      - property: title
        type: entry
        label: Title
        documentation: Short description of the work item.
        required: 1
        in: body
      - property: project
        type: entry
        label: Project name
        documentation: Name or ID of a team project where the work item should be created.
        htmlDocumentation: |
          Name or ID of a <a href="https://www.visualstudio.com/en-us/docs/integrate/api/tfs/projects" target="_blank">team project</a> where the work item should be created.
        required: 1
        in: path
      - property: type
        type: entry
        label: Type
        documentation: Name of the work item type.
        htmlDocumentation: |
          Name of the <a target="_blank" href="https://www.visualstudio.com/en-us/docs/integrate/api/wit/work-item-types">work item type</a>.
        required: 1
        in: path
      - property: priority
        type: entry
        label: Priority
        documentation: Priority for completing the work item, based on business goals
        required: 0
        in: body
      - property: assignTo
        type: entry
        label: Assign to
        documentation: The person currently assigned to the work item.
        required: 0
        in: body
      - property: description
        type: textarea
        label: Description
        documentation: Description for the work item
        required: 0
        in: body
      - property: additionalFields
        type: textarea
        label: Additional fields
        required: 0
        documentation: |
          Additional fields to be added, e.g. {"Microsoft.VSTS.Common.Severity": 2}.
          For field names see https://www.visualstudio.com/en-us/docs/integrate/api/wit/work-item-types
        htmlDocumentation: |
          Additional fields to be added, e.g. {"Microsoft.VSTS.Common.Severity": 2}.
          For field names see
          <a href="https://www.visualstudio.com/en-us/docs/integrate/api/wit/work-item-types" target="_blank">
          https://www.visualstudio.com/en-us/docs/integrate/api/wit/work-item-types</a>
      - property: requestBody
        type: textarea
        label: Request body
        required: 0
        documentation: |
          Pre-set request body, e.g. [{"op": "add", "path": "/relations/-", "value": {"rel": "System.LinkTypes.Hierarchy-Reverse", "url": "https://fabrikam-fiber-inc.visualstudio.com/DefaultCollection/_apis/wit/workItems/297", "attributes": {"comment": "decomposition of work"} } } ]
        htmlDocumentation: |
          Pre-set request body, e.g. [{"op": "add", "path": "/relations/-", "value": {"rel": "System.LinkTypes.Hierarchy-Reverse", "url": "https://fabrikam-fiber-inc.visualstudio.com/DefaultCollection/_apis/wit/workItems/297", "attributes": {"comment": "decomposition of work"} } } ]


  - name: Update a Work Item
    stepName: update a work item
    description: Update a work item fields.
    documentationLinks:
      - https://www.visualstudio.com/en-us/docs/integrate/api/wit/work-items#create-a-work-item
    endpoint: '#{{endpoint}}/#{{collection}}/_apis/wit/workitems/#{itemId}'
    method: PATCH
    hasConfig: true
    attachCredentials: true
    basicAuth: true
    contentType: application/json-patch+json
    resultProperty:
      show: true
      format:
        - json
        - propertySheet
      default: /myJob/updatedWorkItem
    parameters:
      - property: itemId
        type: entry
        label: Item ID
        documentation: ID of the work item to be updated.
        required: 1
        in: path
      - property: title
        type: entry
        label: Title
        documentation: Short description of the work item.
        required: 0
        in: body
      - property: priority
        type: entry
        label: Priority
        documentation: Priority for completing the work item, based on business goals
        required: 0
        in: body
      - property: assignTo
        type: entry
        label: Assign to
        documentation: The person currently assigned to the work item.
        required: 0
        in: body
      - property: description
        type: textarea
        label: Description
        documentation: Description for the work item
        required: 0
        in: body
      - property: additionalFields
        type: textarea
        label: Additional fields
        required: 0
        in: body
        documentation: |
          Additional fields to be added, e.g. {"Microsoft.VSTS.Common.Severity": 2}.
          For field names see https://www.visualstudio.com/en-us/docs/integrate/api/wit/work-item-types
        htmlDocumentation: >
          Additional fields to be added, e.g. {"Microsoft.VSTS.Common.Severity": 2}.
          For field names see
          <a href="https://www.visualstudio.com/en-us/docs/integrate/api/wit/work-item-types" target="_blank">
          https://www.visualstudio.com/en-us/docs/integrate/api/wit/work-item-types</a>
      - property: requestBody
        type: textarea
        label: Request body
        in: body
        required: 0
        documentation: |
          Pre-set request body, e.g. [{"op": "add", "path": "/relations/-", "value": {"rel": "System.LinkTypes.Hierarchy-Reverse", "url": "https://fabrikam-fiber-inc.visualstudio.com/DefaultCollection/_apis/wit/workItems/297", "attributes": {"comment": "decomposition of work"} } } ]
        htmlDocumentation: |
          Pre-set request body, e.g. [{"op": "add", "path": "/relations/-", "value": {"rel": "System.LinkTypes.Hierarchy-Reverse", "url": "https://fabrikam-fiber-inc.visualstudio.com/DefaultCollection/_apis/wit/workItems/297", "attributes": {"comment": "decomposition of work"} } } ]

  - name: Get a Work Item
    stepName: get a work item
    description: Returns the content of the work item
    endpoint: '#{{endpoint}}/#{{collection}}/_apis/wit/workitems/#{itemId}'
    documentationLinks:
      - https://www.visualstudio.com/en-us/docs/integrate/api/wit/work-items#get-a-work-item
    #  #{{instance}} means that "instance" will ba taken from config
    # #{repository} will be taken from the procedure parameters
    method: GET
    # HTTP method
    hasConfig: true
     # a field for configuration name will be added to the form
    attachCredentials: true
     # credentials will be attached to the procedure
    basicAuth: true
     # credentials will be turned into basic auth header
    contentType: application/json
    resultProperty:
      show: true
      # Selectbox with formats will appear
      format:
        - json
        - propertySheet
      default: /myJob/workItem
    parameters:
      - property: itemId
        type: entry
        label: ID
        documentation: ID of the work item to retrieve.
        required: 1
        in: path
      - property: $expand
        type: select
        label: Expand
        in: query
        documentation: Gets work item relationships (work item links, hyperlinks and file attachements).
        option:
          - name: All
            value: all
          - name: Relations
            value: relations
          - name: None
            value: none
        value: none

  - name: Delete a Work Item
    stepName: delete a work item
    description: Deletes the specified work item.
    endpoint: '#{{endpoint}}/#{{collection}}/#{project}/_apis/wit/workitems/#{itemId}'
    method: DELETE
    documentationLinks:
      - https://www.visualstudio.com/en-us/docs/integrate/api/wit/work-items#delete-a-work-item
    # HTTP method
    hasConfig: true
     # a field for configuration name will be added to the form
    attachCredentials: true
     # credentials will be attached to the procedure
    basicAuth: true
     # credentials will be turned into basic auth header
    SkSkipAuth: true
    # if no credentials found, the procedure won't fail, the request will be made without credentials
    contentType: application/json
    resultProperty:
      show: true
      # Selectbox with formats will appear
      format:
        - json
        - propertySheet
      default: /myJob/deletedWorkItem
    parameters:
      - property: itemId
        type: entry
        label: ID
        documentation: ID of the work item to delete.
        required: 1
        in: path
      - property: strictMode
        value: 1
        required: 0
        checkedValue: 1
        uncheckedValue: 0
        type: checkbox
        label: Strict mode
        documentation: If checked, the procedure will fail in case the item does not exist.

  - name: Get Default Values
    stepName: get default values
    description: Get the default values that will be filled in automatically when you create a new work item of a specific type.
    endpoint: '#{{endpoint}}/#{{collection}}/#{project}/_apis/wit/workitems/#{workItemTypeName}'
    method: GET
    # HTTP method
    documentationLinks:
      - https://www.visualstudio.com/en-us/docs/integrate/api/wit/work-items#get-default-values
    hasConfig: true
     # a field for configuration name will be added to the form
    attachCredentials: true
     # credentials will be attached to the procedure
    basicAuth: true
     # credentials will be turned into basic auth header
    contentType: application/json
    resultProperty:
      show: true
      # Selectbox with formats will appear
      format:
        - json
        - propertySheet
      default: /myJob/defaultValues
    parameters:
      - property: project
        type: entry
        label: Project
        documentation: Name or ID of a team project where the work item type is defined.
        required: 1
        in: path
      - property: workItemTypeName
        type: entry
        label: Work item type name
        documentation: Name of the work item type.
        required: 1
        in: path

  - name: Create a Work Item Query
    stepName: create a work item query
    description: Create a new work item search query.
    endpoint: '#{{endpoint}}/#{{collection}}/#{project}/_apis/wit/queries/#{folderPath}'
    method: POST
    # HTTP method
    hasConfig: true
     # a field for configuration name will be added to the form
    attachCredentials: true
    documentationLinks:
      - https://www.visualstudio.com/en-us/docs/integrate/api/wit/queries#create-a-query
     # credentials will be attached to the procedure
    basicAuth: true
     # credentials will be turned into basic auth header
    contentType: application/json
    resultProperty:
      show: true
      # Selectbox with formats will appear
      format:
        - json
        - propertySheet
      default: /myJob/createQueryResult
    parameters:
      - property: project
        type: entry
        label: Project
        documentation: Name or ID of a team project where the work item type is defined.
        required: 1
        in: path
      - property: folderPath
        type: entry
        label: Folder path
        documentation: ID or Path to the folder you want to create the query in
        required: 1
        in: path
      - property: name
        type: entry
        label: Name
        documentation: Name of the query.
        required: 1
        in: body
      - property: wiql
        label: Query string
        type: textarea
        documentation: Query string.
        htmlDocumentation: >
          <a href="http://msdn.microsoft.com/library/bb130306.aspx" target="_blank">Query string</a>.
        in: body
        required: 1


  - name: Update a Work Item Query
    stepName: updates a work item query
    description: Updates a work item search query.
    endpoint: '#{{endpoint}}/#{{collection}}/#{project}/_apis/wit/queries/#{folderPath}/#{query}'
    method: PATCH
    # HTTP method
    documentationLinks:
      - https://www.visualstudio.com/en-us/docs/integrate/api/wit/queries#update-a-query
    hasConfig: true
     # a field for configuration name will be added to the form
    attachCredentials: true
     # credentials will be attached to the procedure
    basicAuth: true
     # credentials will be turned into basic auth header
    contentType: application/json
    resultProperty:
      show: true
      # Selectbox with formats will appear
      format:
        - json
        - propertySheet
      default: /myJob/updateQueryResult
    parameters:
      - property: project
        type: entry
        label: Project
        documentation: Name or ID of a team project where the work item type is defined.
        required: 1
        in: path
      - property: folderPath
        type: entry
        label: Folder path
        documentation: ID or Path to the folder you want to create the query in
        required: 1
        in: path
      - property: query
        type: entry
        label: Query ID
        documentation: Name or ID the query to update.
        required: 1
        in: path
      - property: wiql
        label: Query string
        type: textarea
        documentation: Query string.
        htmlDocumentation: >
          <a href="http://msdn.microsoft.com/library/bb130306.aspx" target="_blank">Query string</a>.
        in: body
        required: 1

  - name: Run a Work Item Query
    stepName: run a work item query
    documentationLinks:
      - https://www.visualstudio.com/en-us/docs/integrate/api/wit/wiql#run-a-query
    description: Runs a new work item search query.
    endpoint: '#{{endpoint}}/#{{collection}}/#{project}/_apis/wit/wiql'
    method: POST
    # HTTP method
    hasConfig: true
     # a field for configuration name will be added to the form
    attachCredentials: true
     # credentials will be attached to the procedure
    basicAuth: true
     # credentials will be turned into basic auth header
    contentType: application/json
    resultProperty:
      show: true
      # Selectbox with formats will appear
      format:
        - json
        - propertySheet
      default: /myJob/runQueryResult
    parameters:
      - property: project
        type: entry
        label: Project
        documentation: Name or ID of a team project where the work item type is defined.
        required: 1
        in: path
      - property: query
        label: Query string
        type: textarea
        documentation: Query string.
        htmlDocumentation: >
          <a href="http://msdn.microsoft.com/library/bb130306.aspx" target="_blank">Query string</a>.
        in: body
        required: 1
      - property: timePrecision
        label: Time precision
        type: checkbox
        checkedValue: true
        uncheckedValue: false
        documentation: True if time precision is allowed in the date time comparisons.
        value: false
        in: query
        required: 0

  - name: Delete a Work Item Query
    stepName: delete a work item query
    description: Deletes the specified work item search query.
    endpoint: '#{{endpoint}}/#{{collection}}/#{project}/_apis/wit/queries/#{queryPath}'
    method: DELETE
    hasConfig: true
    attachCredentials: true
    basicAuth: true
    documentationLinks:
      - https://www.visualstudio.com/en-us/docs/integrate/api/wit/queries#delete-a-query-or-folder
    contentType: application/json
    parameters:
      - property: project
        type: entry
        label: Project
        documentation: Name or ID of a team project where the work item type is defined.
        required: 1
        in: path
      - property: queryPath
        label: Query path
        type: entry
        documentation: ID or path of the query or folder to delete.
        in: query
        required: 1

  - name: Queue a build
    stepName: queue a build
    description: Queues a new build.
    documentationLinks:
      - https://www.visualstudio.com/en-us/docs/integrate/api/build/builds#queue-a-build
    method: POST
    endpoint: '#{{endpoint}}/#{{collection}}/#{project}/_apis/build/builds'
    hasConfig: true
    attachCredentials: true
    basicAuth: true
    contentType: application/json
    resultProperty:
      show: true
      format:
        - json
        - propertySheet
      default: /myJob/queueBuild

    parameters:
      - property: project
        type: entry
        label: Project
        documentation: Team project ID or name.
        required: 1
        in: path
      - property: definition.id
        label: Definition ID or name
        required: 1
        in: body
        type: entry
        documentation: The ID or the name of the definition. This is required.
      - property: queue.id
        label: Queue ID or name
        documentation: The ID or the name of the queue. This is optional. If not specified, the default queue for the definition will be used.
        required: 0
        in: body
        type: entry
        noEmptyString: true
      - property: sourceBranch
        in: body
        label: Source branch
        type: entry
        required: 0
        noEmptyString: true
        documentation: The branch to build. This is optional. If not specified, the default branch for the definition will be used.
      - property: waitForBuild
        label: Wait for build
        type: checkbox
        required: 0
        documentation: If checked, the procedure will wait for build to finish.
      - property: waitTimeout
        label: Wait timeout
        type: entry
        required: 0
        value: 300
        documentation: Timeout in second to wait for build to finish. Will be used if "Wait for build" is checked.
      - property: mimicProcedureStatus
        label: Mimic build status
        type: checkbox
        required: 0
        documentation: If checked, the procedure status will mimic build status. If build has failed, the procedure status will be "Failed", if build has succeeded, the status will be "Success" and "Warning" otherwize.
      - property: parameters
        in: body
        label: Parameters
        type: textarea
        required: 0
        htmlDocumentation: >
          Parameters to pass to the build. This is optional. <br/>

          E.g.,
          <pre>{"system.debug":"true","BuildConfiguration":"debug","BuildPlatform":"x64"}</pre>

          If not specified, the default variables for the definition will be used.

  - name: Upload a Work Item Attachment
    stepName: upload a work item attachment
    description: To attach a file to a work item, upload the attachment to the attachment store, then attach it to the work item.
    method: POST
    endpoint: '#{{endpoint}}/#{{collection}}/_apis/wit/attachments'
    hasConfig: true
    attachCredentials: true
    basicAuth: true
    contentType: application/json
    documentationLinks:
      - https://www.visualstudio.com/en-us/docs/integrate/api/wit/attachments#upload-an-attachment
    resultProperty:
      show: true
      # Selectbox with formats will appear
      format:
        - json
        - propertySheet
      default: /myJob/workItemAttachment
    parameters:
      - property: filename
        in: query
        label: Attachment filename
        required: 1
        type: entry
        documentation: The name of the file in the attachment store (typically the same as the name of the source of the attachment).
      - property: uploadType
        type: select
        label: Upload type
        in: query
        documentation: Default is simple. Use chunked upload type for uploading large files (>130 MB).
        option:
          - name: Simple
            value: simple
          - name: Chunked
            value: chunked
      - property: filePath
        label: File path
        documentation: Path to the file to be uploaded. Either this field or file content field must be specified.
        type: entry
        in: body
      - property: fileContent
        label: File content
        documentation: File content to be uploaded. Either this field or file path field must be specified.
        type: textarea
        in: body

  - name: Download an Artifact from a Git Repository
    stepName: download an artifact from a git repository
    description: Downloads a file from a Git repository.
    method: GET
    endpoint: '#{{endpoint}}/#{{collection}}/#{project}/_apis/git/repositories/#{repository}/items'
    hasConfig: true
    attachCredentials: true
    basicAuth: true
    documentationLinks:
     - https://www.visualstudio.com/en-us/docs/integrate/api/git/items#get-a-file
    contentType: application/json
    resultProperty:
      show: true
      # Selectbox with formats will appear
      format:
        - json
        - propertySheet
      default: /myJob/downloadGitArtifact
    parameters:
      - property: project
        label: Project name
        documentation: ID or name of the team project.
        htmlDocumentation: |
          ID or name of the <a href="https://www.visualstudio.com/en-us/docs/integrate/api/tfs/projects">team project</a>.
        type: entry
        required: 1
        in: path
      - property: repository
        label: Repository name
        documentation: ID or name of the repository.
        htmlDocumentation: |
          ID or name of the <a href="https://www.visualstudio.com/en-us/docs/integrate/api/git/repositories">repository</a>.
        type: entry
        required: 1
        in: path
      - property: scopePath
        label: File path
        documentation: Path to the item in the repository. e.g. /WebSite/WebSite/Views/Home/_Home.cshtml
        value: /
        type: entry
        required: 1
        in: query
      - property: destination
        label: Destination folder for file
        type: entry
        documentation: Destination folder for file. If not specified, defaults to the current job workspace.
      - property: Accept
        label: Download format
        in: header
        type: select
        value: application/octet-stream
        documentation: Specify the format for dowloading an artifact.
        required: true
        option:
          - name: Binary
            value: application/octet-stream
          - name: Zip
            value: application/zip
          - name: JSON (metadata)
            value: application/json
      - property: includeContentMetadata
        label: Include content metadata
        documentation: |
          Use true to include additional metadata about the item content, like the file type.
          Useful only when metadata is retrived.
        in: query
        type: checkbox
        checkedValue: true
        uncheckedValue: false
        value: false
      - property: latestProcessedChange
        label: Latest processed change
        documentation: |
          true gets the commit that contains the previous change to the retrieved version of the item.
          Of course, the root item ("/") has no commits associated with it, so there will not be a
          commit returned with the root item.
          Useful only when metadata is retrived.
        value: false
        type: checkbox
        checkedValue: true
        uncheckedValue: false
      - property: versionType
        label: Version type
        type: select
        in: query
        option:
          - name: Branch
            value: branch
          - name: Commit
            value: commit
          - name: Tag
            value: tag
        value: branch
        documentation: Use the versionType and version parameters together. For example, to get an item from "mybranch", use versionType=branch and version=mybranch.
      - property: version
        label: Version
        type: entry
        value: master
        in: query
        htmlDocumentation: |
          <table>
          <tr>
          <th>If versionType is...</th><th>Version is interpreted as...</th>
          </tr>
          <tr>
            <td>Branch</td><td>The name of a branch.</td>
          </tr>
          <tr>
            <td>Tag</td><td>The name of a tag.</td>
          </tr>
          <tr>
            <td>Commit</td><td>The ID of a commit.</td>
            </tr>
          </table>

          You can also modify the version with the versionOptions parameter.

      - property: versionOptions
        in: query
        label: Version options
        type: select
        option:
          - name: First parent
            value: firstParent
          - name: Previous change
            value: previousChange
          - name: None
            value: None
        value: None
        htmlDocumentation: |
         <b>First parent</b>: The parent branch to the version specified by the versionType and version parameters.
         <br />
         <b>Previous change</b>: The last version of the item that was changed prior to the version specified by the versionType and version parameters.
         <br />
         <b>None</b>: No modification to the version specified by the versionType and version parameters.


  - name: Get a Build
    stepName: get a build
    description: Gets a specified build info
    method: GET
    endpoint: '#{{endpoint}}/#{{collection}}/#{project}/_apis/build/builds/#{buildId}'
    hasConfig: true
    attachCredentials: true
    basicAuth: true
    documentationLinks:
     - https://www.visualstudio.com/en-us/docs/integrate/api/build/builds#get-a-build
    contentType: application/json
    resultProperty:
      show: true
      # Selectbox with formats will appear
      format:
        - json
        - propertySheet
      default: /myJob/build
    parameters:
      - property: project
        label: Project name
        documentation: ID or name of the team project.
        htmlDocumentation: |
          ID or name of the <a href="https://www.visualstudio.com/en-us/docs/integrate/api/tfs/projects">team project</a>.
        type: entry
        required: 1
        in: path
      - property: buildId
        label: Build number or ID
        documentation: ID or number of the build.
        type: entry
        required: 1
        in: path
      - property: waitForBuild
        label: Wait for build
        type: checkbox
        checkedValue: 1
        uncheckedValue: 0
        value: 1
        documentation: If checked, the procedure will poll the build status until the build is finished.
      - property: waitTimeout
        label: Timeout to wait
        type: entry
        value: 300
        documentation: Time (in seconds) to wait for build to be finished. Used if "Wait for build" flag is set.
      - property: mimicProcedureStatus
        label: Mimic build status
        type: checkbox
        checkedValue: 1
        uncheckedValue: 0
        value: 1
        documentation: If checked, the procedure status will mimic build status, e.g. if the build has failed, the procedure will fail too.
